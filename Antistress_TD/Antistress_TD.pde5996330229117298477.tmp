TowerButton[] towerButtons = new TowerButton[5];
Tower draggedTower;

void setup() {
  fullScreen();
  rectMode(CORNERS);

  startUp();
}

void draw() {
  background(255);

  line(0, height*0.85, width, height*0.85);

  boolean hovering = false;
  for (TowerButton t : towerButtons) {
    if (t.collision() || t.dragging) hovering = true;
  }
  if (hovering) cursor(HAND);
  else cursor(ARROW);
  for (int i = 0; i < towerButtons.length; i++) {
    towerButtons[i].display();
  }

  for (TowerButton t : towerButtons) {
    println(t.towerNum+" "+t.dragging);
    if (t.dragging) {
      draggedTower = new Tower(mouseX, mouseY, t.towerNum);
      draggedTower.display();
      break;
    }
  }
}

void mousePressed() {
  for (TowerButton t : towerButtons) {
    if (t.collision()) {
      t.dragging = true;
    }
  }
}

void mouseReleased() {
  for (TowerButton t : towerButtons) {
    t.dragging = false;
  }
}

void startUp() {
  for (int i = 0; i < towerButtons.length; i++) {
    towerButtons[i] = new TowerButton(int(width*0.13) + i*int(width*0.13), int(height*0.87), int(width*0.20) + i*int(width*0.13), int(height*0.93), "TÃ¥rn "+(i+1), i+1);
  }
}
